```html
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Admin Panel - Ubah Role</title>
  <script src="https://kit.fontawesome.com/8fefb4c1a3.js" crossorigin="anonymous"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 2rem; background: #f5f5f5; }
    .card { background: white; border-radius: 12px; padding: 1.5rem; box-shadow: 0 3px 10px rgba(0,0,0,0.1); 
            max-width: 500px; margin-top: 1rem; display:none; }
    .user-role { margin-top: 0.5rem; color: #d32f2f; font-weight: 500; display: flex; align-items: center; gap: 0.5rem; }
    .controls { margin-top: 1rem; }
    .controls select { padding: 5px; font-size: 14px; }
    input { padding: 8px; font-size: 14px; width: 250px; }
    button { padding: 8px 15px; background: #4285F4; color: white; border: none; border-radius: 6px; cursor: pointer; }
    .info { margin-top: 0.5rem; }
  </style>
</head>
<body>
  <h2>Admin Panel - Ubah Role User</h2>

  <div>
    <input type="text" id="uidInput" placeholder="Masukkan UID user">
    <button id="searchBtn">Cari</button>
  </div>

  <div id="profileCard" class="card">
    <h3>Data User</h3>
    <div id="userUid" class="info"></div>
    <div id="userName" class="info"></div>
    <div id="userEmail" class="info"></div>
    <div class="user-role" id="userRole">
      <i class="fas fa-user"></i> Role belum ditentukan
    </div>

    <div class="controls">
      <label for="roleSelect">Ubah Role: </label>
      <select id="roleSelect">
        <option value="unknown">Tidak diketahui</option>
        <option value="siswa">Siswa</option>
        <option value="guru">Guru</option>
      </select>
    </div>
  </div>

  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
    import { getFirestore, doc, getDoc, setDoc } 
      from "https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBQtlCxwhIXyKxuW5FRyRqOElCz-2_EPjs",
  authDomain: "redcross-76c90.firebaseapp.com",
  projectId: "redcross-76c90",
  storageBucket: "redcross-76c90.firebasestorage.app",
  messagingSenderId: "720435310423",
  appId: "1:720435310423:web:058f8f14743135da62d812",
  measurementId: "G-1N1LDV3R95"
};


    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const searchBtn = document.getElementById("searchBtn");
    const uidInput = document.getElementById("uidInput");
    const profileCard = document.getElementById("profileCard");
    const userUid = document.getElementById("userUid");
    const userName = document.getElementById("userName");
    const userEmail = document.getElementById("userEmail");
    const userRoleElement = document.getElementById("userRole");
    const roleSelect = document.getElementById("roleSelect");

    function renderUserRole(role) {
      if (role === "siswa") {
        userRoleElement.innerHTML = `<i class="fas fa-user-graduate"></i> Siswa SMA IT Abu Bakar`;
        roleSelect.value = "siswa";
      } else if (role === "guru") {
        userRoleElement.innerHTML = `<i class="fas fa-chalkboard-teacher"></i> Guru SMA IT Abu Bakar`;
        roleSelect.value = "guru";
      } else {
        userRoleElement.innerHTML = `<i class="fas fa-user"></i> Role belum ditentukan`;
        roleSelect.value = "unknown";
      }
    }

    async function loadUser(uid) {
      const snap = await getDoc(doc(db, "users", uid));
      return snap.exists() ? snap.data() : null;
    }

    async function saveUser(uid, data) {
      await setDoc(doc(db, "users", uid), data, { merge: true });
    }

    searchBtn.addEventListener("click", async () => {
      const uid = uidInput.value.trim();
      if (!uid) return alert("Masukkan UID dulu!");

      profileCard.style.display = "block";
      userUid.textContent = `UID: ${uid}`;

      const data = await loadUser(uid);
      if (data) {
        userName.textContent = `Nama: ${data.name || "(tidak ada)"}`;
        userEmail.textContent = `Email: ${data.email || "(tidak ada)"}`;
        renderUserRole(data.role || "unknown");
      } else {
        userName.textContent = "Nama: (belum ada)";
        userEmail.textContent = "Email: (belum ada)";
        renderUserRole("unknown");
        await saveUser(uid, { role: "unknown" });
      }

      roleSelect.onchange = async (e) => {
        const newRole = e.target.value;
        await saveUser(uid, { role: newRole });
        renderUserRole(newRole);
        alert(`Role user ${uid} berhasil diubah ke: ${newRole}`);
      };
    });
  </script>
</body>
</html>
```
